(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{251:function(t,e,r){var n=r(5),o=r(181).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},252:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(97);var o=r(127),c=r(70);function d(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||Object(o.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},254:function(t,e,r){"use strict";r.r(e);var n,o=r(23),c=r(252),d=(r(35),r(251),r(69),r(36),r(41),r(13),r(42),r(29),r(28),r(43),r(44),r(30),r(37),r(53),r(31),r(54),r(52));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function v(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){d=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(d)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var y=(n={props:{products:{type:Array,default:[],required:!0},userId:{type:String,default:"",required:!0}},data:function(){return{productId:"",qty:1,unit_price:"",selectedProduct:{id:"",name:"",price:"",qty:"",unite_price:""},cartTotal:0,cartQty:0,addedProducts:[]}},created:{getQuery:function(){}},computed:{calculteSelectedprice:function(){return parseInt(this.qty)*parseInt(this.selectedProduct.price)},calculteAddedPrice:function(){for(var t=0,i=0;i<this.addedProducts.length;i++){var e=this.addedProducts[i].total_price;t=parseInt(t)+parseInt(e)}return t},calculteAddedQty:function(){for(var t=0,i=0;i<this.addedProducts.length;i++){this.addedProducts[i].total_price;var e=this.addedProducts[i].qty;t=parseInt(t)+parseInt(e)}return t}}},Object(o.a)(n,"created",(function(){})),Object(o.a)(n,"methods",{selectProduct:function(t){var e=this,r=Object(d.a)("product/".concat(t)),n="Bearer "+localStorage.getItem("token");this.$axios.get(r,{headers:{Authorization:n}}).then((function(t){200==t.status&&(e.selectedProduct.name=t.data.name,e.selectedProduct.price=t.data.price)})).catch((function(t){return console.log(t)}))},addselectedProduct:function(){var t={_id:this.productId,name:this.selectedProduct.name,unite_price:this.selectedProduct.price,qty:parseInt(this.qty),total_price:this.calculteSelectedprice};if(Object.values(t).some((function(t){return null==t||""==t})))return alert("Fill all field"),!1;this.addedProducts=[].concat(Object(c.a)(this.addedProducts),[t]);for(var e=0,r=0,i=0;i<this.addedProducts.length;i++){var n=this.addedProducts[i].total_price,o=this.addedProducts[i].qty;e=parseInt(e)+parseInt(n),r=parseInt(r)+parseInt(o)}this.cartTotal=e,this.cartQty=r,this.qty=1,this.selectedProduct={name:"",price:"",qty:"",unite_price:""}},removeFromCart:function(t){this.addedProducts=this.addedProducts.filter((function(e){return e._id!=t}))},createOrder:function(){var t,e=this,r={},n=v(this.addedProducts);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o._id]=f({},o)}}catch(t){n.e(t)}finally{n.f()}console.log(r);var data={products:r,type:"order",customer:this.$route.query.id};console.log(data);var c=Object(d.a)("customer/order"),l=Object(d.c)("Bearer");this.$axios.post(c,data,{headers:{Authorization:l}}).then((function(t){console.log(t),200==t.status&&e.$toast.open({position:"top",message:"Successfully order create",type:"success"})})).catch((function(t){e.$toast.open({position:"top",message:"Order creation faield",type:"warning"})}))}}),n),_=r(15),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("div",[r("form",{staticClass:"w-100"},[r("div",{staticClass:"form-row row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"inputState"}},[t._v("Products")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.productId,expression:"productId"}],staticClass:"form-control",attrs:{id:"inputState"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.productId=e.target.multiple?r:r[0]},function(e){return t.selectProduct(t.productId)}]}},[r("option",{attrs:{selected:""}},[t._v("Products")]),t._v(" "),t._l(t.products,(function(e){return r("option",{key:e.id,domProps:{value:e._id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"qty"}},[t._v("Unit Price")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct.price,expression:"selectedProduct.price"}],staticClass:"form-control",attrs:{disabled:"",type:"number",id:"qty"},domProps:{value:t.selectedProduct.price},on:{input:function(e){e.target.composing||t.$set(t.selectedProduct,"price",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"qty"}},[t._v("Quentity")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.qty,expression:"qty"}],staticClass:"form-control",attrs:{type:"number",id:"qty"},domProps:{value:t.qty},on:{input:function(e){e.target.composing||(t.qty=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"total"}},[t._v("Total Price")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.calculteSelectedprice,expression:"calculteSelectedprice"}],staticClass:"form-control",attrs:{disabled:"",type:"number",id:"total"},domProps:{value:t.calculteSelectedprice},on:{input:function(e){e.target.composing||(t.calculteSelectedprice=e.target.value)}}})])]),t._v(" "),r("button",{staticClass:"btn w-100 d-block btn-primary mt-3",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addselectedProduct.apply(null,arguments)}}},[t._v("Add Products")])]),t._v(" "),t.addedProducts.length>0?r("div",{staticClass:"added-product mt-5"},[r("ul",{staticClass:"list-group"},[r("li",{staticClass:"list-group-item d-flex justify-content-between mb-2"},[r("h6",[t._v("Name")]),t._v(" "),r("h6",[t._v("Unit Price")]),t._v(" "),r("h6",[t._v("Quentity")]),t._v(" "),r("h6",[t._v("Total Price")])]),t._v(" "),t._l(t.addedProducts,(function(e,n){return r("li",{key:n,staticClass:"list-group-item d-flex justify-content-between "},[r("p",[t._v(t._s(e.name))]),t._v(" "),r("p",[t._v(t._s(e.unite_price))]),t._v(" "),r("p",[t._v(t._s(e.qty))]),t._v(" "),r("p",{staticClass:"number"},[r("span",[t._v(t._s(e.total_price))]),t._v(" "),r("span",{staticClass:"dlt text-red ml-4",on:{click:function(r){return r.preventDefault(),t.removeFromCart(e._id)}}},[t._v("X")])])])}))],2),t._v(" "),r("ul",{staticClass:"list-group"},[r("li",{staticClass:"list-group-item mt-4"},[r("h6",[t._v("Total Item: "+t._s(t.calculteAddedQty))]),t._v(" "),r("h6",[t._v("Total Price: "+t._s(t.calculteAddedPrice))])])]),t._v(" "),r("button",{staticClass:"btn w-100 d-block btn-primary mt-3",on:{click:function(e){return e.preventDefault(),t.createOrder.apply(null,arguments)}}},[t._v("Place Order")])]):t._e()])])}),[],!1,null,null,null);e.default=component.exports}}]);