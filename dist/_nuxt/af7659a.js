(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{288:function(t,e,r){"use strict";r.r(e);var o=r(52),n={data:function(){return{ordererUser:null,products:[],payment:"",customers:[]}},created:function(){this.getAllCustomer(),this.selectCustomer(this.$route.query.id)},cumputed:{},methods:{selectNewCustome:function(){this.ordererUser=null,this.$router.push("/payment")},getAllCustomer:function(){var t=this,e=Object(o.a)("customer"),r=Object(o.c)("Bearer");this.$axios.get(e,{headers:{Authorization:r}}).then((function(e){console.log(e),200==e.status&&(t.customers=e.data.customer)})).catch((function(t){return console.log(t)}))},applyPayment:function(){var t=this,e=Object(o.a)("customer/payment"),data={payment:this.payment,type:"payment",customer:this.$route.query.id};console.log(data);var r=Object(o.c)("Bearer");this.$axios.post(e,data,{headers:{Authorization:r}}).then((function(e){console.log(e),200==e.status&&(t.ordererUser=e.data,t.payment="")})).catch((function(t){return console.log(t)}))},selectCustomer:function(t){var e=this;if(t||this.$route.query.id){var r=t||this.$route.query.id,n=Object(o.a)("customer/".concat(r)),l=Object(o.c)("Bearer");this.$axios.get(n,{headers:{Authorization:l}}).then((function(t){console.log(t),200==t.status&&(e.ordererUser=t.data.customer)})).catch((function(t){return console.log(t)}))}}}},l=r(15),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[null==t.ordererUser?r("div",{staticClass:"container py-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.customer,expression:"customer"}],staticClass:"form-control mb-5",attrs:{type:"text",name:"",id:""},domProps:{value:t.customer},on:{input:function(e){e.target.composing||(t.customer=e.target.value)}}}),t._v(" "),t.customers&&t.customers.length?r("table",{staticClass:"table table-bordered dt-responsive nowrap",staticStyle:{"border-collapse":"collapse","border-spacing":"0",width:"100%"},attrs:{id:"datatable"}},[r("thead",[r("tr",[r("th",[t._v("Name")]),t._v(" "),r("th",[t._v("Village")]),t._v(" "),r("th",[t._v("Phone Number")]),t._v(" "),r("th",[t._v("Father Name")]),t._v(" "),r("th",[t._v("Total Bill")])])]),t._v(" "),r("tbody",t._l(t.customers,(function(e){return r("tr",{key:e.id,staticClass:"table-row",on:{click:function(r){return r.preventDefault(),t.selectCustomer(e._id)}}},[r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t._v(t._s(e.village))]),t._v(" "),r("td",[t._v(t._s(e.phone_number))]),t._v(" "),r("td",[t._v(t._s(e.father_name))]),t._v(" "),r("td",[t._v(t._s(e.total_due))]),t._v(" "),r("td",[r("nuxt-link",{staticClass:"dlt mr-2 pointer text-red",attrs:{to:"/payment?id="+e._id}},[t._v("Select")])],1)])})),0)]):t._e()]):r("div",{staticClass:"container py-5"},[r("a",{staticClass:"btn text-white mb-5 btn-primary pointer",on:{click:function(e){return e.preventDefault(),t.selectNewCustome.apply(null,arguments)}}},[t._v("Select New Customer")]),t._v(" "),r("form",{staticClass:"w-100 mb-5"},[r("div",{staticClass:"form-row row"},[r("div",{staticClass:"form-group col-md-4"},[r("label",{attrs:{for:"inputEmail4"}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.ordererUser.name,expression:"ordererUser.name"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:t.ordererUser.name},on:{input:function(e){e.target.composing||t.$set(t.ordererUser,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("label",{attrs:{for:"inputEmail4"}},[t._v("Village")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.ordererUser.village,expression:"ordererUser.village"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:t.ordererUser.village},on:{input:function(e){e.target.composing||t.$set(t.ordererUser,"village",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"inputEmail4"}},[t._v("Due")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.ordererUser.total_due,expression:"ordererUser.total_due"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:t.ordererUser.total_due},on:{input:function(e){e.target.composing||t.$set(t.ordererUser,"total_due",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-2 align-self-center m-0"},[t.ordererUser._id?r("nuxt-link",{staticClass:"btn btn-success my-btn",attrs:{to:"/customer/persons?name="+t.ordererUser._id,type:"submit"}},[t._v("Customer Details")]):t._e()],1)])]),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.applyPayment.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"payment"}},[t._v("Payment")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"form-control",attrs:{id:"payment",type:"number"},domProps:{value:t.payment},on:{input:function(e){e.target.composing||(t.payment=e.target.value)}}})]),t._v(" "),r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Payment")])])])])}),[],!1,null,null,null);e.default=component.exports}}]);