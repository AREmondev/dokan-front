(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{251:function(t,e,r){var c=r(5),o=r(181).values;c({target:"Object",stat:!0},{values:function(t){return o(t)}})},252:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var c=r(97);var o=r(127),d=r(70);function n(t){return function(t){if(Array.isArray(t))return Object(c.a)(t)}(t)||Object(o.a)(t)||Object(d.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},263:function(t,e,r){"use strict";r.r(e);var c,o=r(23),d=r(252),n=(r(35),r(251),r(69),r(36),r(52)),l=(c={props:{products:{type:Array,default:[],required:!0},userId:{type:String,default:"",required:!0}},data:function(){return{productId:"",qty:1,unit_price:"",selectedProduct:{id:"",name:"",price:"",qty:"",unite_price:""},cartTotal:0,cartQty:0,addedProducts:[]}},created:{getQuery:function(){}},computed:{calculteSelectedprice:function(){return parseInt(this.qty)*parseInt(this.selectedProduct.price)},calculteAddedPrice:function(){for(var t=0,i=0;i<this.addedProducts.length;i++){var e=this.addedProducts[i].total_price;t=parseInt(t)+parseInt(e)}return t},calculteAddedQty:function(){for(var t=0,i=0;i<this.addedProducts.length;i++){this.addedProducts[i].total_price;var e=this.addedProducts[i].qty;t=parseInt(t)+parseInt(e)}return t}}},Object(o.a)(c,"created",(function(){})),Object(o.a)(c,"methods",{selectProduct:function(t){var e=this,r=Object(n.a)("products/".concat(t)),c="Bearer "+localStorage.getItem("token");this.$axios.get(r,{headers:{Authorization:c}}).then((function(t){200==t.status&&(e.selectedProduct.name=t.data.name,e.selectedProduct.price=t.data.price)})).catch((function(t){return console.log(t)}))},addselectedProduct:function(){var t={_id:this.productId,name:this.selectedProduct.name,unite_price:this.selectedProduct.price,qty:parseInt(this.qty),total_price:this.calculteSelectedprice};if(Object.values(t).some((function(t){return null==t||""==t})))return alert("Fill all field"),!1;this.addedProducts=[].concat(Object(d.a)(this.addedProducts),[t]);for(var e=0,r=0,i=0;i<this.addedProducts.length;i++){var c=this.addedProducts[i].total_price,o=this.addedProducts[i].qty;e=parseInt(e)+parseInt(c),r=parseInt(r)+parseInt(o)}this.cartTotal=e,this.cartQty=r,this.qty=1,this.selectedProduct={name:"",price:"",qty:"",unite_price:""}},removeFromCart:function(t){this.addedProducts=this.addedProducts.filter((function(e){return e.id!=t}))},createOrder:function(){var data={totalPrice:this.calculteAddedPrice,products:this.addedProducts};console.log(data);var t=Object(n.a)("stocks/"),e="Bearer "+localStorage.getItem("token");this.$axios.post(t,data,{headers:{Authorization:e}}).then((function(t){t.status})).catch((function(t){return console.log(t)}))}}),c),v=r(15),component=Object(v.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("div",[r("form",{staticClass:"w-100"},[r("div",{staticClass:"form-row row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"inputState"}},[t._v("Products")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.productId,expression:"productId"}],staticClass:"form-control",attrs:{id:"inputState"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.productId=e.target.multiple?r:r[0]},function(e){return t.selectProduct(t.productId)}]}},[r("option",{attrs:{selected:""}},[t._v("Products")]),t._v(" "),t._l(t.products,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"qty"}},[t._v("Unit Price")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct.price,expression:"selectedProduct.price"}],staticClass:"form-control",attrs:{disabled:"",type:"number",id:"qty"},domProps:{value:t.selectedProduct.price},on:{input:function(e){e.target.composing||t.$set(t.selectedProduct,"price",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"qty"}},[t._v("Quentity")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.qty,expression:"qty"}],staticClass:"form-control",attrs:{type:"number",id:"qty"},domProps:{value:t.qty},on:{input:function(e){e.target.composing||(t.qty=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("label",{attrs:{for:"total"}},[t._v("Total Price")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.calculteSelectedprice,expression:"calculteSelectedprice"}],staticClass:"form-control",attrs:{disabled:"",type:"number",id:"total"},domProps:{value:t.calculteSelectedprice},on:{input:function(e){e.target.composing||(t.calculteSelectedprice=e.target.value)}}})])]),t._v(" "),r("button",{staticClass:"btn w-100 d-block btn-primary mt-3",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addselectedProduct.apply(null,arguments)}}},[t._v("Add Products")])]),t._v(" "),t.addedProducts.length>0?r("div",{staticClass:"added-product mt-5"},[r("ul",{staticClass:"list-group"},[r("li",{staticClass:"list-group-item mb-2"},[r("h4",[t._v("Name")]),t._v(" "),r("h4",[t._v("Unit Price")]),t._v(" "),r("h4",[t._v("Quentity")]),t._v(" "),r("h4",[t._v("Total Price")])]),t._v(" "),t._l(t.addedProducts,(function(e,c){return r("li",{key:c,staticClass:"list-group-item"},[r("h5",[t._v(t._s(e.name))]),t._v(" "),r("h5",[t._v(t._s(e.unite_price))]),t._v(" "),r("h5",[t._v(t._s(e.qty))]),t._v(" "),r("h5",{staticClass:"number"},[r("span",[t._v(t._s(e.total_price))]),t._v(" "),r("span",{staticClass:"dlt",on:{click:function(r){return r.preventDefault(),t.removeFromCart(e.id)}}},[t._v("X")])])])}))],2),t._v(" "),r("ul",{staticClass:"list-group"},[r("li",{staticClass:"list-group-item mt-4"},[r("h4"),t._v(" "),r("h4"),t._v(" "),r("h4",[t._v(t._s(t.calculteAddedQty))]),t._v(" "),r("h4",[t._v(t._s(t.calculteAddedPrice))])])]),t._v(" "),r("button",{staticClass:"btn w-100 d-block btn-primary mt-3",on:{click:function(e){return e.preventDefault(),t.createOrder.apply(null,arguments)}}},[t._v("Place Order")])]):t._e()])])}),[],!1,null,null,null);e.default=component.exports}}]);